<!--HTML Seite, die das Video und saemtliche Zustandsdaten des Raspberry Pi anzeigt-->

<!DOCTYPE HTML>
<html>
  <head>
	<title>IKT CAR MONITORING</title>
	<style>
		body {
			background: #555;
			text-align: left;
			margin-top: 1%;
			zoom: 100%;
			
		}
		p    {color:white;max-width: 50%;}
		th    {color:white;}
		#column {
		
		width: 50%;  
		float: left;

		position: relative;
	}
	</style>	
	
  </head>


  <body>
	
	<script type="text/javascript" src="smoothie.js"></script>

	<!--Aufgabe 4-->
	<!--Für jeden Datensatz muss eine Zeichenfläche 'canvas' definiert werden-->
    UltraSound Right:<br>
    <canvas class="canvas" id="range_rChart" width="200" height="100">
    </canvas><br>

    <script type="text/javascript">
        var dataSocket = new WebSocket("ws://172.23.90.34:8081/ws");

        dataSocket.onopen = function() {
            console.log("connected");
            dataSocket.send("connection established");
        };

        dataSocket.onmessage = function(evt) {
            console.log(evt.data);
            dataSocket.send("Message received!");
            var msg = JSON.parse(evt.data);
            console.log(msg)
            range_r.append(new Date().getTime(), parseFloat(msg.range_r));
        }

        // SmoothieChart
        var range_rChart = new SmoothieChart({minValue: 0, maxValue: 300,
                grid: {strokeStyle: "rgb(125,0,0)", fillStyle: "rgb(60,0,0)",
                       lineWidth: 1, millisPerLine: 250, verticalSections:6}
                });

        var range_r = new TimeSeries();
        range_rChart.addTimeSeries(range_r);
        range_rChart.streamTo(document.getElementById("range_rChart"), 100);
    </script>




	<!--Einparken -->
	<!--Es müssen Knöpfe zum Starten und Stoppen des Parkvorgangs definiert werden-->

  </body>
</html>
